(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2303:function(e,t,r){Promise.resolve().then(r.bind(r,3504))},3504:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var s=r(7437),a=r(9148),o=r(1396),l=r.n(o);function i(){let{isAuthenticated:e}=(0,a.aC)();return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,s.jsxs)("div",{className:"relative overflow-hidden",children:[(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,s.jsx)("div",{className:"relative z-10 pb-8 bg-gradient-to-br from-blue-50 to-indigo-100 sm:pb-16 md:pb-20 lg:max-w-2xl lg:w-full lg:pb-28 xl:pb-32",children:(0,s.jsx)("main",{className:"mt-10 mx-auto max-w-7xl px-4 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28",children:(0,s.jsxs)("div",{className:"sm:text-center lg:text-left",children:[(0,s.jsxs)("h1",{className:"text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl",children:[(0,s.jsx)("span",{className:"block xl:inline",children:"Manage your tasks"})," ",(0,s.jsx)("span",{className:"block text-indigo-600 xl:inline",children:"with ease"})]}),(0,s.jsx)("p",{className:"mt-3 text-base text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0",children:"A beautiful and intuitive todo application that helps you stay organized and productive. Sign up today to get started on your journey to better productivity."}),(0,s.jsxs)("div",{className:"mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start",children:[!e&&(0,s.jsx)("div",{className:"rounded-md shadow",children:(0,s.jsx)(l(),{href:"/auth/signup",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10",children:"Get started"})}),(0,s.jsx)("div",{className:"mt-3 sm:mt-0 sm:ml-3",children:(0,s.jsx)(l(),{href:e?"/tasks":"/auth/login",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 md:py-4 md:text-lg md:px-10",children:e?"View Tasks":"Sign In"})})]})]})})})}),(0,s.jsx)("div",{className:"lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2",children:(0,s.jsx)("div",{className:"h-56 w-full bg-indigo-200 sm:h-72 md:h-96 lg:w-full lg:h-full flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg w-4/5",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-16 h-16"}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32 mb-2"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24"})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]})})})]})})}},9148:function(e,t,r){"use strict";r.d(t,{Ho:function(){return l},aC:function(){return i}});var s=r(7437),a=r(2265);r(4033);let o=(0,a.createContext)(),l=e=>{let{children:t}=e,[r,l]=(0,a.useState)(null),[i,n]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("token");if(e){let t=await fetch("".concat("http://localhost:8001","/api/user/profile"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){let e=await t.json();l(e),n(!0)}else localStorage.removeItem("token"),localStorage.removeItem("user")}}catch(e){console.error("Error checking auth status:",e),localStorage.removeItem("token"),localStorage.removeItem("user")}finally{d(!1)}})()},[]);let u=async(e,t)=>{try{let s=await fetch("".concat("http://localhost:8001","/api/auth/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(s.ok){let{access_token:e}=await s.json(),t=await fetch("".concat("http://localhost:8001","/api/user/profile"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){let r=await t.json();return localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(r)),l(r),n(!0),{success:!0,user:r}}throw Error("Failed to fetch user profile")}{let e=await s.json(),t="Login failed";if(e.detail){if(Array.isArray(e.detail)){var r;t=(null===(r=e.detail[0])||void 0===r?void 0:r.msg)||e.detail[0]||"Validation error occurred"}else t="object"==typeof e.detail&&e.detail.msg?e.detail.msg:e.detail}return{success:!1,error:t}}}catch(e){return console.error("Login error:",e),{success:!1,error:"Network error"}}},m=async(e,t,r)=>{try{let a=await fetch("".concat("http://localhost:8001","/api/auth/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:r})});if(a.ok){let e=await a.json();return{success:!0,user:e}}{let e=await a.json(),t="Signup failed";if(e.detail){if(Array.isArray(e.detail)){var s;t=(null===(s=e.detail[0])||void 0===s?void 0:s.msg)||e.detail[0]||"Validation error occurred"}else t="object"==typeof e.detail&&e.detail.msg?e.detail.msg:e.detail}return{success:!1,error:t}}}catch(e){return console.error("Signup error:",e),{success:!1,error:"Network error"}}},g=async()=>{try{localStorage.getItem("token")}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("token"),localStorage.removeItem("user"),l(null),n(!1)}};return(0,s.jsx)(o.Provider,{value:{user:r,isAuthenticated:i,loading:c,login:u,signup:m,register:m,logout:g},children:t})},i=()=>{let e=(0,a.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},622:function(e,t,r){"use strict";var s=r(2265),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var s,o={},c=null,d=null;for(s in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,s)&&!n.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===o[s]&&(o[s]=t[s]);return{$$typeof:a,type:e,key:c,ref:d,props:o,_owner:i.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},7437:function(e,t,r){"use strict";e.exports=r(622)},1396:function(e,t,r){e.exports=r(5250)},4033:function(e,t,r){e.exports=r(5313)}},function(e){e.O(0,[250,971,938,744],function(){return e(e.s=2303)}),_N_E=e.O()}]);